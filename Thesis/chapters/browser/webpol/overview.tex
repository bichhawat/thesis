\section{Policy Component for Web Browsers}
\label{sec:overview}

IFC is a broad term for techniques that control the flow of sensitive
information in accordance with pre-defined policies. Sensitive
information is information derived from sources that are confidential
or private. Any IFC system has two components---the \emph{policy
  component} and the \emph{enforcement component}. The policy
component allows labeling of private information sources. The label on
a source specifies how private information from that source can be
used and where it can flow. The collection of rules for labeling is
called the policy. The enforcement component enforces policies. This
could, for example, be the dynamic taint tracking approach described
earlier. {\sys} contributes a policy component to complement existing
work on enforcement components in web browsers. 

In the context of web-pages, data sources are objects generated in
response to user events like the content of a password box generated
due to key presses or a mouse click on a sensitive button, and data
obtained in a network receive event. In {\sys}, data sources can be
labeled with three kinds of labels, in increasing order of
confidentiality: 1) the label \texttt{public} represents non-sensitive
data, 2) for each domain \texttt{domain}, the label \texttt{domain}
represents data private to the domain; such data's flow should be
limited only to the browser and servers belonging to \texttt{domain}
and its sub-domains, and 3) the label \texttt{local} represents very
confidential data that must never leave the browser. These labels are
ordered \texttt{public} $<$ \texttt{domain}$_i$ $<$
\texttt{local}. These labels are fairly expressive. For example,
labeling a data source with the domain of the hosting page restricts
its transfer to only the host, and prevents exfiltration to
third-parties. Labeling a data source with the domain of a service
provider such as an analytics provider allows transfer to only that
service. 

Since most data on a web-page is not sensitive, it is reasonable to
label data sources \texttt{public} by default and only selectively
assign a different label. {\sys} uses this blacklisting approach.  Two
nuances of source labeling are noteworthy. The first is its fine
granularity. Not all objects generated by the same class of events
have the same label. For instance, characters entered in a password
field may have the domain label of the hosting page, limiting their
flow only to the host, but characters entered in other fields may be
accessible to third-party advertising or analytics scripts
unrestricted. This leads to the following requirement on the policy
component.

\medskip
\noindent \textbf{Requirement 1:} The policy component must allow
associating different policies with different elements of the page.
\medskip

The second is that the label of an object can be dynamic, i.e.,
history-dependent. Consider a policy that hides from an analytics
script how many times a user clicked within an interactive panel, but
wants to share whether or not the user clicked at least once. The
label of a click event on the panel is \texttt{public} the first time
the user clicks on it and private afterwards and, hence, it depends on
the history of user interaction. This yields the following requirement
on the policy component.

\medskip
\noindent \textbf{Requirement 2:} Labels may be determined
dynamically. This requirement means that labels must be set by
\emph{trusted policy code} that is executed on-the-fly and that has
local state.
\medskip

